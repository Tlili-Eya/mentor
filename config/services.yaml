# parameters (tu peux garder tes paramètres existants)
parameters:
    pdp_directory: '%kernel.project_dir%/public/uploads/pdp'

# services (niveau racine)
services:
    # Configuration par défaut pour tous les services
    _defaults:
        autowire: true      # Injection automatique des dépendances
        autoconfigure: true # Enregistre automatiquement les contrôleurs, commandes, etc.

    # Rend tous les contrôleurs (y compris HomeController) auto-détectés comme services
    App\:
        resource: '../src/'
        exclude:
            - '../src/DependencyInjection/'
            - '../src/Entity/'
            - '../src/Kernel.php'

    # Déclaration explicite si besoin (optionnel, mais utile pour HomeController)
    App\Controller\HomeController:
        tags: ['controller.service_arguments']