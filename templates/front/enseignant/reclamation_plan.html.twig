{% extends 'front/basem.html.twig' %}

{% block title %}Réclamation pour {{ plan.decision }}{% endblock %}

{% block body %}
<div class="container">
    <nav aria-label="breadcrumb" class="mb-4">
        <ol class="breadcrumb">
            <li class="breadcrumb-item"><a href="{{ path('app_home') }}">Accueil</a></li>
            <li class="breadcrumb-item"><a href="{{ path('app_enseignant_plans') }}">Plans</a></li>
            <li class="breadcrumb-item"><a href="{{ path('app_enseignant_plan_detail', {'id': plan.id}) }}">{{ plan.decision|slice(0, 20) }}...</a></li>
            <li class="breadcrumb-item active">Réclamation</li>
        </ol>
    </nav>
    
    <div class="row justify-content-center">
        <div class="col-md-8">
            <div class="card">
                <div class="card-header bg-warning">
                    <h5 class="mb-0">Réclamation pour le plan : {{ plan.decision }}</h5>
                </div>
                
                <div class="card-body">
                    {{ form_start(form) }}
                    
                    <div class="mb-3">
                        {{ form_label(form.objet, null, {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.objet, {'attr': {'class': 'form-control', 'value': "Réclamation concernant le plan d'action: " ~ plan.decision}}) }}
                        {{ form_errors(form.objet) }}
                    </div>
                    
                    <div class="mb-3">
                        {{ form_label(form.contenu, null, {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.contenu, {'attr': {'class': 'form-control', 'rows': 5, 'placeholder': 'Expliquez votre réclamation concernant ce plan d\'action...'}}) }}
                        {{ form_errors(form.contenu) }}
                    </div>
                    
                    <div class="mb-3">
                        {{ form_label(form.type, null, {'label_attr': {'class': 'form-label'}}) }}
                        {{ form_widget(form.type, {'attr': {'class': 'form-select'}}) }}
                        {{ form_errors(form.type) }}
                    </div>
                    
                    <div class="d-flex justify-content-between">
                        <a href="{{ path('app_enseignant_plan_detail', {'id': plan.id}) }}" class="btn btn-secondary">Annuler</a>
                        <button type="submit" class="btn btn-warning">Envoyer la réclamation</button>
                    </div>
                    
                    {{ form_end(form) }}
                </div>
            </div>
        </div>
    </div>
</div>
{% endblock %}