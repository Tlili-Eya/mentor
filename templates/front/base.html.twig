<!DOCTYPE html>
<html lang="en">
	<head>
		<meta charset="utf-8">
		<meta name="viewport" content="width=device-width, initial-scale=1.0">

		<title>
			{% block title %}MentorAI
			{% endblock %}
		</title>
		<meta
		name="description" content="{% block meta_description %}{% endblock %}">

		<!-- Favicons -->
		<link rel="icon" href="{{ asset('assets/img/favicon.png') }}">
		<link
		rel="apple-touch-icon" href="{{ asset('assets/img/apple-touch-icon.png') }}">

		<!-- Fonts -->
		<link rel="preconnect" href="https://fonts.googleapis.com">
		<link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
		<link
		href="https://fonts.googleapis.com/css2?family=Roboto&family=Raleway&family=Ubuntu&display=swap" rel="stylesheet">

		<!-- Vendor CSS -->
		<link rel="stylesheet" href="{{ asset('assets/vendor/bootstrap/css/bootstrap.min.css') }}">
		<link rel="stylesheet" href="{{ asset('assets/vendor/bootstrap-icons/bootstrap-icons.css') }}">
		<link rel="stylesheet" href="{{ asset('assets/vendor/aos/aos.css') }}">
		<link
		rel="stylesheet" href="{{ asset('assets/vendor/swiper/swiper-bundle.min.css') }}">

		<!-- Main CSS -->
		<link rel="stylesheet" href="{{ asset('assets/css/main.css') }}"> {% block stylesheets %}{% endblock %}

		<style>
			/* Styles pour les boutons d'authentification */
			.auth-buttons {
				display: flex;
				align-items: center;
				gap: 0.5rem;
			}

			.auth-buttons .btn-getstarted {
				padding: 8px 20px;
				border-radius: 50px;
				transition: all 0.3s ease;
				font-weight: 500;
				text-decoration: none;
				display: inline-flex;
				align-items: center;
				white-space: nowrap;
			}

			.auth-buttons .btn-outline-danger {
				padding: 8px 20px;
				border-radius: 50px;
				transition: all 0.3s ease;
				font-weight: 500;
				display: inline-flex;
				align-items: center;
				white-space: nowrap;
			}

			.auth-buttons .btn-warning {
				padding: 8px 20px;
				border-radius: 50px;
				transition: all 0.3s ease;
				font-weight: 500;
				display: inline-flex;
				align-items: center;
				white-space: nowrap;
			}

			/* Responsive pour petits écrans */
			@media(max-width: 1200px) {
				.auth-buttons {
					margin-top: 1rem;
				}
			}
		</style>
	</head>

	<body>

		<!-- ======= HEADER ======= -->
		<header id="header" class="header d-flex align-items-center sticky-top">
			<div class="container-fluid container-xl position-relative d-flex align-items-center">

				<a href="{{ path('front_home') }}" class="logo d-flex align-items-center me-auto">
					<img src="{{ asset('assets/img/123.png') }}" alt="MentorAI Logo">
				</a>

				<nav id="navmenu" class="navmenu">
					<ul>
						<li>
							<a href="{{ path('front_home') }}">Home</a>
						</li>
						<li>
							<a href="{{ path('front_course_details') }}">Etude</a>
						</li>
						<li>
							<a href="{{ path('front_blog') }}">Note</a>
						</li>
						<li class="dropdown">
							<a href="#">
								<span>Projets</span>
								<i class="bi bi-chevron-down toggle-dropdown"></i>
							</a>
							<ul>
								<li><a href="{{ path('front_projets', {'id': 0}) }}">Ajout Projet</a></li>
								<li><a href="{{ path('front_mes_projets') }}">Mes Projets</a></li>
							</ul>
						</li>
						<li class="dropdown">
							<a href="#">
								<span>Parcours</span>
								<i class="bi bi-chevron-down toggle-dropdown"></i>
							</a>
							<ul>
								<li><a href="{{ path('front_parcours') }}">Ajout Parcours</a></li>
								<li><a href="{{ path('front_mesparcours') }}">Mes Parcours</a></li>
								<li><a href="{{ path('front_ai_embauche') }}">Embauche AI</a></li>
							</ul>
						</li>

						<li class="dropdown">
							<a href="#">
								<span>Productivity</span>
								<i class="bi bi-chevron-down toggle-dropdown"></i>
							</a>
							<ul>
								<li><a href="{{ path('front_blog_details') }}">Emplois</a></li>
								<li><a href="{{ path('front_events') }}">Défis</a></li>
								<li><a href="{{ path('front_instructor_profile') }}">Instructor Profile</a></li>
							</ul>
						</li>

						<li>
							<a href="{{ path('front_contact') }}">Contact</a>
						</li>
						<li>
							<a href="{{ path('front_pricing') }}">Pricing</a>
						</li>
						<li>
							<a href="{{ path('front_about') }}">About</a>
						</li>
					</ul>

					<i class="mobile-nav-toggle d-xl-none bi bi-list"></i>
				</nav>

				<!-- ────────────────────── ZONE AUTHENTIFICATION ────────────────────── -->
				<div class="auth-buttons ms-3">
					{% if app.user %}
						<!-- Utilisateur connecté -->
						<a href="{{ path('app_profil') }}" class="btn-getstarted me-2">
							<i class="bi bi-person-circle me-1"></i>
							{{ app.user.prenom|default('Profil') }}
						</a>

						{% if is_granted('ROLE_ADMIN') %}
							<a href="{{ path('back_administrateur') }}" class="btn btn-warning me-2">
								<i class="bi bi-gear-fill me-1"></i>
								Admin
							</a>
						{% endif %}

						<a href="{{ path('app_logout') }}" class="btn btn-outline-danger">
							<i class="bi bi-box-arrow-right me-1"></i>
							Déconnexion
						</a>
					{% else %}
						<!-- Utilisateur non connecté -->
						<a href="{{ path('app_login') }}" class="btn-getstarted">
							<i class="bi bi-box-arrow-in-right me-1"></i>
							Connexion
						</a>
					{% endif %}
				</div>
				<!-- ──────────────────────────────────────────────────────────────── -->

			</div>
		</header>
		<!-- ======= END HEADER ======= -->

		<main
			class="main">
			<!-- Messages flash pour les notifications -->
			{% for label, messages in app.flashes %}
				{% for message in messages %}
					<div class="alert alert-{{ label }} alert-dismissible fade show" role="alert">
						{{ message }}
						<button type="button" class="btn-close" data-bs-dismiss="alert" aria-label="Close"></button>
					</div>
				{% endfor %}
			{% endfor %}

			{% block body %}{% endblock %}
		</main>

		<!-- ======= FOOTER ======= -->
		<footer id="footer" class="footer accent-background">
			<div class="container text-center">
				<p>©
					{{ "now"|date("Y") }}
					MentorAI. All Rights Reserved.</p>
			</div>
		</footer>

		<!-- Scroll Top -->
		<a href="#" id="scroll-top" class="scroll-top d-flex align-items-center justify-content-center">
			<i class="bi bi-arrow-up-short"></i>
		</a>

		<!-- Preloader -->
		<div id="preloader"></div>

		<!-- Vendor JS -->
		<script src="{{ asset('assets/vendor/bootstrap/js/bootstrap.bundle.min.js') }}"></script>
		<script src="{{ asset('assets/vendor/aos/aos.js') }}"></script>
		<script src="{{ asset('assets/vendor/purecounter/purecounter_vanilla.js') }}"></script>
		<script src="{{ asset('assets/vendor/swiper/swiper-bundle.min.js') }}"></script>

		<!-- Main JS -->
		<script src="{{ asset('assets/js/main.js') }}"></script>

		{% block javascripts %}{% endblock %}
	</body>
</html>
