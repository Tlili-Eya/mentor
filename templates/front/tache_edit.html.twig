{% extends 'front/base.html.twig' %}

{% block title %}Modifier la tâche : {{ tache.titre ?? 'Sans titre' }}{% endblock %}

{% block body %}
<main class="main">

  <div class="page-title light-background">
    <div class="container">
      <h1>Modifier la tâche</h1>
    </div>
  </div>

  <section class="section">
    <div class="container" data-aos="fade-up">
      <div class="row justify-content-center">
        <div class="col-lg-8">

          <div class="card shadow-sm border-0 rounded-4">
            <div class="card-body p-5">

              <h2 class="card-title mb-4">
                {{ tache.titre ?? 'Sans titre' }}
              </h2>

              <p class="text-muted mb-4">
                Programme : {{ tache.programme.titre ?? 'Non défini' }}
              </p>

              {{ form_start(form, {'attr': {'novalidate': 'novalidate'}}) }}

              {{ form_errors(form) }}

              <!-- Titre -->
              <div class="mb-4">
                <strong>{{ form_label(form.titre) }}</strong>
                {{ form_widget(form.titre, {'attr': {'class': 'form-control mt-2'}}) }}
                {{ form_errors(form.titre) }}
              </div>

              <!-- Ordre -->
              <div class="mb-4">
                <strong>{{ form_label(form.ordre) }}</strong>
                {{ form_widget(form.ordre, {'attr': {'class': 'form-control mt-2'}}) }}
                {{ form_errors(form.ordre) }}
              </div>

              <!-- Description -->
              <div class="mb-4">
                <strong>{{ form_label(form.description) }}</strong>
                {{ form_widget(form.description, {'attr': {'class': 'form-control mt-2', 'rows': 5}}) }}
                {{ form_errors(form.description) }}
              </div>

              <!-- État -->
              <div class="mb-5">
                <strong>{{ form_label(form.etat) }}</strong>
                {{ form_widget(form.etat, {'attr': {'class': 'form-select mt-2'}}) }}
                {{ form_errors(form.etat) }}
              </div>

              <!-- Boutons -->
              <div class="text-center mt-5">
                <a href="{{ path('front_programme_show', {'id': tache.programme.id}) }}"
                   class="btn rounded-pill px-4 py-2 me-3"
                   style="background-color: var(--accent-color); color: var(--contrast-color); border: none;">
                  <i class="bi bi-arrow-left me-2"></i>Annuler
                </a>

                <button type="submit"
                        class="btn btn-outline-primary rounded-pill px-4 py-2">
                  <i class="bi bi-save me-2"></i>Enregistrer
                </button>
              </div>

              {{ form_end(form) }}

            </div>
          </div>

        </div>
      </div>
    </div>
  </section>

</main>
{% endblock %}
